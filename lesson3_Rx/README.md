# RxSwift: Вступление (конспект)

- [RxSwift: Вступление (конспект)](#rxswift-вступление-конспект)
- [Что такое](#что-такое)
- [С чем едят](#с-чем-едят)
- [Для чего вообще нужен этот фреймворк](#для-чего-вообще-нужен-этот-фреймворк)
- [Отличия от `Combine`](#отличия-от-combine)
- [Error Types](#error-types)
- [Свойства обозреваемых последовательностей](#свойства-обозреваемых-последовательностей)
- [Что может дать библиотека](#что-может-дать-библиотека)
- [Реактивные значения](#реактивные-значения)
- [UI-байндинги](#ui-байндинги)
- [Что к чему](#что-к-чему)
- [Обзерваблы ака Посделовательности](#обзерваблы-ака-посделовательности)

## Что такое

- Реактивная либа (далее - "библиотека")
- Интегрированная со свифтом
- Предлагает свою модель многопоточности
- Интергрирована со стандартными `Error types`
- Внутри либы - дженерик-обертки
- Абстракция одна - "обозреваемая последовательность"
- Набор sheduler-ов

## С чем едят

## Для чего вообще нужен этот фреймворк

## Отличия от `Combine`

- Не огорожен только для куска платформы
- Есть слой взаимодействия с `Cocoa` (`RxCocoa`)
- Есть тесты (`RxTesting`)
- `Combine` не бриджится с `Rx`, а вот наоборот - да

## Error Types

Библиотека не предоставляет дженерик ошибок. Почему? Потому что это не является предметной областью 
библиотеки. На композиционном уровне все равно, почему так или иная последовательность данных 
профейлилась. Важно пропагировать ошибку дальше по цепи обзерверов.

## Свойства обозреваемых последовательностей

- последовательность завершается за конечное время
- пиарят, что они "никогда"(тм) не выкинет ошибку и будет передавать элементы на:
- main or
- backgoround scheduler
- with refcounted UI (RxCocoa)

## Что может дать библиотека

### Реактивные значения

Насыщает некоторым синтаксическим сахаром, позволяющим:

1. превращать значения в последовательность.
2. обозревать последовательность с помощью нескольких модификаторов
3. трансформировать значения последовательности
1. в том числе через higher-order functions

### UI-байндинги

Тот же самый синтаксис, только если нужно привязаться к последовательности данных, генерируемой
каким-либо `Cocoa` элементом (`UIKit`).
Доступны все операторы `Rx`.

И многое другое…(тм)

## Что к чему

### Обзерваблы ака Посделовательности

Обзервабл это последовательность, эквивалентная таковой в Swift, с возможностью асинхронного 
добавления значений и принимающая обзервера в качестве коллбека. 
В последовательности может быть 0 или более элементов. Когда последовательность получает ивент 
ошибки или завершения, она больше не может "производить" значения.

- любой Обзервабл это просто последовательность
- то есть Sequence
- но умеет еще асинхронно принимать значения
- [Observable.subscribe](https://docs.rxswift.org/protocols/observabletype#/s:7RxSwift14ObservableTypeP9subscribeyAA10Disposable_pqd__AA08ObserverD0Rd__7ElementQyd__AGRtzlF) === [Sequence.makeIterator](https://developer.apple.com/documentation/swift/sequence/2885155-makeiterator)
- Обзервер же является коллбеком
- легко представить это все в голове

Пример обзервабл последовательности – движение мышки по экрану. Положение курсора изменится –
появится новая позиция. С течением времени, мышка нагеренит целую "последовательность" таких 
позиций.
Это и есть обзервабл последовательность.

> Observed elements over time make a sequence
